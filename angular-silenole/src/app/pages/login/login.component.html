<!--MODAL INICIO-->
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Iniciar sesión</h4>
     <button type="button" class="close pull-right" aria-label="close" (click)="modalRef.hide()">
       <span aria-hidden="true">&times;</span>
     </button>
  </div>
  <div class="modal-body">
    <form #form=ngForm method="post" (ngSubmit)="onSubmit(form)">
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Email:</label>
        <input type="email" class="form-control border-success" id="email" name="email" [(ngModel)]="email" required>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Contraseña:</label>
        <input type="password" class="form-control border-success" id="password" name="password" [(ngModel)]="password" required >
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="login()" (click)="modalRef.hide()"
      >Ingresar</button>
  </div>
</ng-template>
<!-- MODAL DE REGISTRARSE-->
<ng-template #template2>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title2">Registrarse</h4>
     <button type="button" class="close pull-right" aria-label="close" (click)="modalRef.hide()">
       <span aria-hidden="true">&times;</span>
     </button>
  </div>
  <div class="modal-body">
    <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)" >
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Nombre Usuario:</label>
        <input type="text" class="form-control border-success" name="name" [(ngModel)]="usuario.name" #name="ngModel" [class.is-invalid]="name.invalid && name.touched" required>
        <small *ngIf ="name.invalid && name.touched" 
         class="form-text text-danger">Introduce tu nombre</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label" >Email:</label>
        <input type="email" class="form-control border-success" name="email" [(ngModel)]="usuario.email" #email="ngModel" [class.is-invalid]="email.invalid && email.touched" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required>
        <small *ngIf ="email.invalid && email.touched" 
        class="form-text text-danger">Introduce un email valido</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Comunidad Autónoma:</label>
        <input type="text" class="form-control border-success" name="comunidad" [(ngModel)]="usuario.comunidad" #comunidad="ngModel" [class.is-invalid]="comunidad.invalid && comunidad.touched" required>
        <small *ngIf ="comunidad.invalid && comunidad.touched" 
        class="form-text text-danger">Introduce tu comunidad</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Provincia:</label>
        <input type="text" class="form-control border-success" name="provincia" [(ngModel)]="usuario.provincia" #provincia="ngModel" [class.is-invalid]="provincia.invalid && provincia.touched" required>
        <small *ngIf ="provincia.invalid && provincia.touched" 
        class="form-text text-danger">Introduce tu provincia</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Localidad:</label>
        <input type="text" class="form-control border-success" name="localidad" [(ngModel)]="usuario.localidad" #localidad="ngModel" [class.is-invalid]="localidad.invalid && localidad.touched" required>
        <small *ngIf ="localidad.invalid && localidad.touched" 
        class="form-text text-danger">Introduce tu localidad</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">CP:</label>
        <input type="number" class="form-control border-success" name="cp" [(ngModel)]="usuario.cp" #cp="ngModel" [class.is-invalid]="cp.invalid && cp.touched" required>
        <small *ngIf ="cp.invalid && cp.touched" 
        class="form-text text-danger">Introduce tu Codigo Postal</small>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Contraseña:</label>
        <input type="password" class="form-control border-success" name="password" (ngModel)="usuario.password" #password="ngModel"required>
      </div>
      <div class="form-group">
        <label for="recipient-name" class="col-form-label">Confirmar contraseña:</label>
        <input type="password" class="form-control border-success" name="password2" (ngModel)="usuario2.password" #password2="ngModel"required>
      </div>
      <span  *ngIf="equals" id="span">Las contraseñas no coinciden</span>
      </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="registrarUsuario(null, name.value, password.value, password2.value, email.value, comunidad.value, provincia.value, localidad.value, cp.value)"
     >Registrarse</button>
  </div> 
</ng-template>


      <!-- HEADER -->
      <!-- Logo -->
      <!-- botones-->
      <div class="container-fluid mt-3">
        <div class="row">
          <div class="col-12 display-1 text-success text-center">Silenole <h3>Tu lugar de intercambio de bienes</h3>
            <div class="col-12 d-flex justify-content-center mt-3 mb-4">
              <button class="btn btn-outline-success btn-lg " role="button" aria-pressed="true" type="submit"
                data-toggle="modal" data-target="#modalIngresar" (click)="openModal(template)">Ingresar</button>
              <button class="btn btn-outline-success btn-lg ml-3 " role="button" aria-pressed="true" type="submit"
                data-toggle="modal" data-target="#modalRegistrar" (click)="openModal(template2)">Registrarse</button>
            </div>
          </div>
        </div>
      </div>
      <!-- <hr class="border border-success"> -->
      <!-- <hr>-->

      <!-- CARROUSEl-->

      <carousel class="carrusel row d-flex justify-content-center ml-5 mr-5 mt-3 mb-5">
        <slide>
          <img src="assets/img/caja4.jpg" alt="first slide"
            style="display: block; height: 350px; width: 1200px; opacity: 0.8;">
          <div class="carousel-caption d-none d-md-block  text-success">
            <h3 style="font-size: xxx-large;">FÁCIL</h3>
            <p style="color: black;">Regístrate y sube los productos que no utilices o que quieras intercambiar.</p>
          </div>
        </slide>
        <slide>
          <img src="assets/img/comodin.jpg" alt="second slide"
            style="display: block; height: 350px; width: 1200px; opacity: 0.8;">
          <div class="carousel-caption d-none d-md-block  text-success">
            <h3 style="font-size: xxx-large;">RÁPIDO</h3>
            <p style="color: black;">Utiliza los filtros para buscar productos y encuentra el que necesitas.</p>
          </div>
        </slide>
        <slide>
          <img src="assets/img/manos8.jpg" alt="third slide"
            style="display: block; height: 350px; width: 1200px; opacity: 0.8;">
          <div class="carousel-caption d-none d-md-block  text-success">
            <h3 style="font-size: xxx-large;">SENCILLO</h3>
            <p style="color: black;">Manda un mensaje al propietario del producto, llegad a un acuerdo y ¡listo! </p>
          </div>
        </slide>
      </carousel>

      